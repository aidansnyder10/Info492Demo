<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>SecureBank Business Customer Portal</title>
    <link rel="stylesheet" href="styles.css">
    <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css" rel="stylesheet">
</head>
<body>
    <div class="dashboard-container">
        <header class="dashboard-header">
            <div class="header-left">
                <i class="fas fa-building"></i>
                <h1>SecureBank Business Portal</h1>
            </div>
            <div class="header-right">
                <span class="admin-info">
                    <i class="fas fa-user-tie"></i>
                    business@securebank.com
                </span>
                <button class="email-btn" onclick="window.open('business-email-portal.html', '_blank')">
                    <i class="fas fa-envelope"></i>
                    Email Portal
                </button>
                <button id="logoutBtn" class="logout-btn" onclick="window.location.href='index.html'">
                    <i class="fas fa-sign-out-alt"></i>
                    Logout
                </button>
            </div>
        </header>

        <nav class="dashboard-nav">
            <ul>
                <li class="active" data-section="overview">
                    <i class="fas fa-chart-line"></i>
                    Overview
                </li>
                <li data-section="cashflow">
                    <i class="fas fa-money-bill-wave"></i>
                    Cash Flow
                </li>
                <li data-section="invoices">
                    <i class="fas fa-file-invoice-dollar"></i>
                    Invoices
                </li>
                <li data-section="payroll">
                    <i class="fas fa-users"></i>
                    Payroll
                </li>
                <li data-section="approvals">
                    <i class="fas fa-check-double"></i>
                    Approvals
                </li>
                <li data-section="cards">
                    <i class="fas fa-credit-card"></i>
                    Cards & Controls
                </li>
            </ul>
        </nav>

        <main class="dashboard-content">
            <!-- Overview -->
            <section id="overview" class="dashboard-section active">
                <h2>Business Overview</h2>
                <div class="metrics-grid">
                    <div class="metric-card">
                        <div class="metric-icon">
                            <i class="fas fa-wallet"></i>
                        </div>
                        <div class="metric-info">
                            <h3>Total Balance</h3>
                            <span class="metric-value">$1,254,320.45</span>
                            <span class="metric-change positive">+1.2% WoW</span>
                        </div>
                    </div>
                    <div class="metric-card">
                        <div class="metric-icon">
                            <i class="fas fa-arrow-down-short-wide"></i>
                        </div>
                        <div class="metric-info">
                            <h3>Incoming (30d)</h3>
                            <span class="metric-value">$842,110.00</span>
                            <span class="metric-change positive">+4.5%</span>
                        </div>
                    </div>
                    <div class="metric-card">
                        <div class="metric-icon">
                            <i class="fas fa-arrow-up-short-wide"></i>
                        </div>
                        <div class="metric-info">
                            <h3>Outgoing (30d)</h3>
                            <span class="metric-value">$693,870.00</span>
                            <span class="metric-change negative">+2.1%</span>
                        </div>
                    </div>
                    <div class="metric-card">
                        <div class="metric-icon">
                            <i class="fas fa-file-invoice"></i>
                        </div>
                        <div class="metric-info">
                            <h3>Open Invoices</h3>
                            <span class="metric-value">27</span>
                            <span class="metric-change warning">$128,450 due</span>
                        </div>
                    </div>
                </div>

                <div class="charts-grid">
                    <div class="chart-card">
                        <h3>Cash Flow (Last 12 weeks)</h3>
                        <div class="chart-placeholder">
                            <i class="fas fa-chart-area" style="font-size: 2rem; color: #667eea;"></i>
                            <p>Chart will be rendered here</p>
                        </div>
                    </div>
                    <div class="chart-card">
                        <h3>Top Vendors by Spend</h3>
                        <div class="chart-placeholder">
                            <i class="fas fa-chart-pie" style="font-size: 2rem; color: #667eea;"></i>
                            <p>Chart will be rendered here</p>
                        </div>
                    </div>
                </div>
            </section>

            <!-- Cash Flow -->
            <section id="cashflow" class="dashboard-section">
                <div class="section-header">
                    <h2>Cash Flow</h2>
                    <div class="section-actions">
                        <select class="filter-select" id="cf-range">
                            <option>Last 30 days</option>
                            <option>Quarter to date</option>
                            <option>Year to date</option>
                        </select>
                    </div>
                </div>
                <div class="transactions-table">
                    <table>
                        <thead>
                            <tr>
                                <th>Date</th>
                                <th>Counterparty</th>
                                <th>Type</th>
                                <th>Amount</th>
                                <th>Memo</th>
                            </tr>
                        </thead>
                        <tbody id="cashflow-tbody">
                            <tr>
                                <td>Oct 01, 2025</td>
                                <td>Stripe Payout</td>
                                <td>Incoming</td>
                                <td>+$45,230.00</td>
                                <td>Monthly sales</td>
                            </tr>
                            <tr>
                                <td>Sep 29, 2025</td>
                                <td>Northwest Utilities</td>
                                <td>Outgoing</td>
                                <td>-$3,215.67</td>
                                <td>Utilities</td>
                            </tr>
                            <tr>
                                <td>Sep 28, 2025</td>
                                <td>Payroll</td>
                                <td>Outgoing</td>
                                <td>-$128,900.00</td>
                                <td>Bi-weekly payroll</td>
                            </tr>
                        </tbody>
                    </table>
                </div>
            </section>

            <!-- Invoices -->
            <section id="invoices" class="dashboard-section">
                <div class="section-header">
                    <h2>Invoices</h2>
                    <div class="section-actions">
                        <input type="text" placeholder="Search invoices..." class="search-input" id="invoice-search">
                        <button class="btn-primary" onclick="createInvoice()">
                            <i class="fas fa-plus"></i>
                            New Invoice
                        </button>
                    </div>
                </div>
                <div class="transactions-table">
                    <table>
                        <thead>
                            <tr>
                                <th>Invoice #</th>
                                <th>Client</th>
                                <th>Amount</th>
                                <th>Status</th>
                                <th>Due Date</th>
                                <th>Actions</th>
                            </tr>
                        </thead>
                        <tbody id="invoice-tbody">
                            <tr>
                                <td>INV-2025-1042</td>
                                <td>Acme Corp</td>
                                <td>$12,450.00</td>
                                <td><span class="status pending">Pending</span></td>
                                <td>Oct 15, 2025</td>
                                <td><button class="btn-sm" onclick="markPaid('INV-2025-1042')">Mark Paid</button></td>
                            </tr>
                            <tr>
                                <td>INV-2025-1039</td>
                                <td>Globex</td>
                                <td>$8,900.00</td>
                                <td><span class="status active">Sent</span></td>
                                <td>Oct 10, 2025</td>
                                <td><button class="btn-sm" onclick="sendReminder('INV-2025-1039')">Send Reminder</button></td>
                            </tr>
                            <tr>
                                <td>INV-2025-1031</td>
                                <td>Initech</td>
                                <td>$55,000.00</td>
                                <td><span class="status completed">Paid</span></td>
                                <td>Sep 20, 2025</td>
                                <td><button class="btn-sm" onclick="viewInvoice('INV-2025-1031')">View</button></td>
                            </tr>
                        </tbody>
                    </table>
                </div>
            </section>

            <!-- Payroll -->
            <section id="payroll" class="dashboard-section">
                <div class="section-header">
                    <h2>Payroll</h2>
                    <div class="section-actions">
                        <button class="btn-secondary" onclick="runPayroll()">
                            <i class="fas fa-play"></i>
                            Run Payroll
                        </button>
                        <button class="btn-secondary" onclick="addEmployee()">
                            <i class="fas fa-user-plus"></i>
                            Add Employee
                        </button>
                    </div>
                </div>
                <div class="transactions-table">
                    <table>
                        <thead>
                            <tr>
                                <th>Employee</th>
                                <th>Role</th>
                                <th>Pay</th>
                                <th>Status</th>
                                <th>Last Paid</th>
                            </tr>
                        </thead>
                        <tbody>
                            <tr>
                                <td>Alex Rivera</td>
                                <td>Engineer</td>
                                <td>$4,500.00</td>
                                <td><span class="status completed">Active</span></td>
                                <td>Sep 28, 2025</td>
                            </tr>
                            <tr>
                                <td>Nina Patel</td>
                                <td>Finance</td>
                                <td>$5,200.00</td>
                                <td><span class="status completed">Active</span></td>
                                <td>Sep 28, 2025</td>
                            </tr>
                            <tr>
                                <td>Chris Lee</td>
                                <td>Ops</td>
                                <td>$4,000.00</td>
                                <td><span class="status completed">Active</span></td>
                                <td>Sep 28, 2025</td>
                            </tr>
                        </tbody>
                    </table>
                </div>
            </section>

            <!-- Approvals -->
            <section id="approvals" class="dashboard-section">
                <div class="section-header">
                    <h2>Approvals</h2>
                    <div class="section-actions">
                        <button class="btn-primary" onclick="approveAll()">
                            <i class="fas fa-check-circle"></i>
                            Approve All
                        </button>
                    </div>
                </div>
                <div class="recent-activity">
                    <h3>Pending Approvals</h3>
                    <div class="activity-list" id="approval-list">
                        <div class="activity-item">
                            <div class="activity-icon info"><i class="fas fa-file-invoice-dollar"></i></div>
                            <div class="activity-content">
                                <p>Invoice INV-2025-1042 to Acme Corp - $12,450.00</p>
                                <span class="activity-time">Requested by A. Rivera</span>
                            </div>
                            <div class="customer-actions">
                                <button class="btn-sm" onclick="approve('INV-2025-1042')">Approve</button>
                                <button class="btn-sm" onclick="reject('INV-2025-1042')">Reject</button>
                            </div>
                        </div>
                        <div class="activity-item">
                            <div class="activity-icon warning"><i class="fas fa-credit-card"></i></div>
                            <div class="activity-content">
                                <p>Card limit increase for Team Card – +$5,000</p>
                                <span class="activity-time">Requested by N. Patel</span>
                            </div>
                            <div class="customer-actions">
                                <button class="btn-sm" onclick="approve('CARD-REQ-17')">Approve</button>
                                <button class="btn-sm" onclick="reject('CARD-REQ-17')">Reject</button>
                            </div>
                        </div>
                    </div>
                </div>
            </section>

            <!-- Cards & Controls -->
            <section id="cards" class="dashboard-section">
                <div class="section-header">
                    <h2>Cards & Controls</h2>
                    <div class="section-actions">
                        <button class="btn-secondary" onclick="issueCard()">
                            <i class="fas fa-plus"></i>
                            Issue New Card
                        </button>
                    </div>
                </div>
                <div class="customers-grid">
                    <div class="customer-card">
                        <div class="customer-avatar"><i class="fas fa-id-card"></i></div>
                        <div class="customer-info">
                            <h4>Team Card – Ops</h4>
                            <p>Limit: $20,000 • Spend MTD: $8,230</p>
                            <span class="status active">Active</span>
                        </div>
                        <div class="customer-actions">
                            <button class="btn-sm" onclick="setControls('ops')">Controls</button>
                            <button class="btn-sm" onclick="freezeCard('ops')">Freeze</button>
                        </div>
                    </div>
                    <div class="customer-card">
                        <div class="customer-avatar"><i class="fas fa-id-card"></i></div>
                        <div class="customer-info">
                            <h4>Team Card – Engineering</h4>
                            <p>Limit: $30,000 • Spend MTD: $12,540</p>
                            <span class="status active">Active</span>
                        </div>
                        <div class="customer-actions">
                            <button class="btn-sm" onclick="setControls('eng')">Controls</button>
                            <button class="btn-sm" onclick="freezeCard('eng')">Freeze</button>
                        </div>
                    </div>
                    <div class="customer-card">
                        <div class="customer-avatar"><i class="fas fa-id-card"></i></div>
                        <div class="customer-info">
                            <h4>Virtual Card – Marketing</h4>
                            <p>Limit: $10,000 • Spend MTD: $2,145</p>
                            <span class="status active">Active</span>
                        </div>
                        <div class="customer-actions">
                            <button class="btn-sm" onclick="setControls('mktg')">Controls</button>
                            <button class="btn-sm" onclick="freezeCard('mktg')">Freeze</button>
                        </div>
                    </div>
                </div>
            </section>
        </main>
    </div>

    <script src="business-dashboard.js"></script>
</body>
    
</html>


